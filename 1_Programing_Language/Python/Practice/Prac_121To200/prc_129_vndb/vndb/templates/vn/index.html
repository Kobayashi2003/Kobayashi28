<!DOCTYPE html>
<html lang="en" class="notranslate" translate="no">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="google" content="notranslate" />
  <meta name="robots" content="notranslate" />
  <title>VNS INDEX</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='/css/index.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='/css/header.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='/css/search.css') }}">
</head>
<body>
  {% include 'vn/header.html' %}
  <main>

    <div class="sort-container">
      <form id="sortForm" method="post" action="{{ url_for('vn.index') }}">
        {% for field in 
          ['searchType', 
           'localTitle', 'localDevelopers', 'localCharacters', 'localTags', 'localLength', 
           'vndbQuery',  'vndbDevelopers',  'vndbCharacters',  'vndbLength',  'vndbStaffs', 'vndbReleasedDate']
        %}
        <input type="hidden" id="{{ field }}" name="{{ field }}" value="{{ form[field] }}">
        {% endfor %}
        <label for="sortSelect">Sort by:</label>
        <select id="sortSelect" name="sortSelect">
          {% for value, label in [('title', 'Title'), ('release_date', 'Release Date'), ('id', 'ID')] %}
          <option value="{{ value }}" {% if form['sortSelect'] == value %}selected{% endif %}>{{ label }}</option>
          {% endfor %}
        </select>
        <div class="sort-order">
          <input type="checkbox" id="sortOrder" name="sortOrder" value="{{ form['sortOrder'] }}">
          <label for="sortOrder">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m3 16 4 4 4-4"/>
              <path d="M7 20V4"/>
            </svg>
          </label>
        </div>
      </form>
    </div>

    <div class="vns" id="vnsContainer">
      {% for vn in vns %}
      <div class="vn {% if vn.image__sexual %}vn-sexual{% endif %} {% if vn.image__violence %}vn-violent{% endif %}">
        <a href="{{ url_for('vn.show', id=vn.id) }}">
          <div class="vn-image-container">
            <img src="{{ vn.thumbnail }}" alt="{{ vn.title }}"
                 class="{% if vn.image__sexual %}index-cover__sexual{% endif %} {% if vn.image__violence %}index-cover__violence{% endif %}">
          </div>
          <h2>{{ vn.title }}</h2>
        </a>
      </div>
      {% endfor %}
    </div>

    <div class="pagination">
      <button id="firstPage" class="pagination-button"><span>First</span></button>
      <button id="prevPage" class="pagination-button">&#x2039; <span>Prev</span></button>
      <div id="pageNumbers" class="page-numbers"></div>
      <button id="nextPage" class="pagination-button"><span>Next</span> &#x203A;</button>
      <button id="lastPage" class="pagination-button"><span>Last</span></button>
    </div>
  </main>
  {% include 'vn/search.html' %}
  <script src="{{ url_for('static', filename='/js/index.js') }}"></script>
  <script src="{{ url_for('static', filename='/js/header.js') }}"></script>
  <script src="{{ url_for('static', filename='/js/search.js') }}"></script>
</body>
</html>