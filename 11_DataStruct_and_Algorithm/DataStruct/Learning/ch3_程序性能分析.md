# 程序性能分析

- 程序性能（program preformance）

- 空间复杂度（space complexity） 指该程序运行所需内存的大小

- 时间复杂度（time complexity） 指该程序运行所需时间

## 空间复杂度

**空间复杂度的组成**

1. 指令空间 （instruction space）：指令空间是指编译之后的程序指令所需要的存储空间
2. 数据空间 （data space）：数据空间是指所有常量和变量值所需要的存储空间
    - 常量和简单变量所需要的存储空间
    - 动态数组和动态类实例等动态对象所需要的空间
3. 环境栈空间 （environment stack space）：环境栈用来保存暂停的函数和方法在恢复运行时所需要的信息
    - 递归函数所需要的栈空间通常称为**递归栈函数**（recursive stack space）


**小结**

- 可以把一个程序所需要的空间分成两部分
  - 固定部分。它独立于实例特征。这一部分通常包括指令空间（即代码空间）、简单变量空间和常量空间等
  - 可变部分。它由动态分配空间构成和递归栈空间构成。前者在某种程度上依赖于实例特征，而后者主要依赖于实例特征


## 时间复杂度

**时间复杂度的组成**

- 一个程序P所需要的时间是编译时间和运行时间之和

**操作计数**

- 估算一个程序或函数的时间复杂度，一种方法 是选择一种或多种关键操作，然后确定每一种操作的执行次数。使用这种方法成功与否取决于是否能够找到耗时最大的操作

**最好、最坏和平均操作计数**

**步数**

- 步数（step count）方法中，将对程序/函数的所有操作部分都进行统计

- 要确定一个程序的步数，必须先确定所要采用的实例特征

- **程序步**：一个程序步可以大概地定义为一个的语法或语义上的程序片段，该片段的执行时间独立于实例特征